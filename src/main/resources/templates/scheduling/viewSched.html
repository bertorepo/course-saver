<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta name="description" content="" />
	<meta name="author" content="" />
	<title>View Schedule</title>
	<link rel="stylesheet" type="text/css" href="/css/app/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="/css/app/font-awesome.min.css">
	<script th:src="@{/js/app/jquery-3.5.1.js}"></script>
	<script th:src="@{/js/app/popper.min.js}"></script>
	<script th:src="@{/js/app/bootstrap.min.js}"></script>
	<style>
	.sticky1 {
	  position: -webkit-sticky;
	  position: sticky;
	  right: 100px;
	  background-color: white;
	}
	.sticky2 {
	  position: -webkit-sticky;
	  position: sticky;
	  right: 0;
	  background-color: white;
	}
	.dark-grey {
		color: #606060;	
	}
	.black {
		color: #000000;
	}
	.ml-n65 {
		margin: -0.75rem !important;
	}
	div.text-danger{
  			font-size: 12px;
  			text-align: left;
  		}
	</style>
</head>

<body onload="load()">
	<div th:insert="fragments/general.html :: header" > </div>
	
	<div class="container mt-5" style="min-height: calc(100vh - 180px)">
		<form class="form-horizontal" action="#" th:action="@{/schedules/courseSchedules/view}" th:object="${changeSchedule}" method="get">
			<h3><i class="fa fa-calendar-o"></i> Select Training Period</h3>
            <hr>
            <div class="card">
                <div class="card-body">
                    <div class="form-group row">
                        <label class="col-lg-2 col-form-label">From Date</label>
                        <div class="col-lg-3">
                           <input class="form-control" type="datetime-local" id="fromDate" name="fromDate"/>
                           <!-- This is used to compile the converted date and pass it to the controller -->
                           <input type="hidden" th:field="*{fromDateTime}" />
                        </div>
                        <label class="col-lg-2 col-form-label">To Date</label>
                        <div class="col-lg-3">
                            <input class="form-control" type="datetime-local" id="toDate" name="toDate"/>
                            <!-- This is used to compile the converted date and pass it to the controller -->
                            <input type="hidden" th:field="*{toDateTime}" />
                        </div>
                    </div>
                    <div class="float-right">
                        <input type="submit" class="btn btn-success" value="Submit">
                    </div>
                </div>
            </div>
             
		<!--Error1 Modal-->
		<div class="modal fade" id="error1Modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
			<div class="modal-dialog modal-sm text-center">
				<div class="modal-content">
					<div class="modal-header alert-danger">
						<h5 class="modal-title"></h5>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body">
						<div class="form-group row">
							<label class="col-lg-12 col-form-label">To Date can't be less than the From Date.</label>
						</div>	
					</div>
				</div>
			</div>
		</div>
		<!--Error1 Modal End-->
		<!--Error2 Modal-->
		<div class="modal fade" id="error2Modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
			<div class="modal-dialog modal-sm text-center">
				<div class="modal-content">
					<div class="modal-header alert-danger">
						<h5 class="modal-title"></h5>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body">
						<div class="form-group row">
							<label class="col-lg-12 col-form-label">From Date can't be greater than the To Date.</label>
						</div>	
					</div>
				</div>
			</div>
		</div>
		<!--Error2 Modal End-->
		<!--Buttons for messages (delete these)
			<input type="button" name="error1" class="btn btn-danger" value="Error 1">
			<input type="button" name="error2" class="btn btn-danger" value="Error 2">
		Buttons for messages (delete these) End-->	
		<div style="overflow-x:auto;display: block; white-space: nowrap" class="mt-5">
			<h3><i class="fa fa-list"></i> List of Available Trainings</h3>
			<table id="data" class="table table-bordered table-responsive text-center" style="width:100%">
				<colgroup >
					<col style="width:20%"/>
					<col style="width:20%"/>
					<col style="width:30%"/>
					<col style="width:30%"/>
					<col style="width:10%"/>
				</colgroup>
				<thead>
					<tr>
						<th>Course Name</th>
						<th>Instructor</th>
						<th>Start Date/Time</th>
						<th>End Date/Time</th>
						<th>Duration</th>
						<th></th>
						<th></th>
					</tr>
				</thead>
				<tbody th:each="courseSchedules, stat : *{courseSchedules}">
                	<tr th:each="courseScheduleDetails : ${courseSchedules.courseScheduleDetails}">
                        <td th:text="${courseSchedules.courseName}"></td>
                        <td th:text="${courseSchedules.instructorName}"></td>
                        <td th:text="${#temporals.format(courseScheduleDetails.scheduledStartDateTime, 'MM/dd/yyyy hh:mm a')}"></td>
                        <td th:text="${#temporals.format(courseScheduleDetails.scheduledEndDateTime, 'MM/dd/yyyy hh:mm a')}"></td>
                        <td th:text="${courseScheduleDetails.duration}"></td>
						<td class="sticky1">
								<a 	th:value="${courseSchedules.id}" 
									th:id="${'update' + (stat.index + 1)}"
									th:href="@{/schedules/courseSchedule/{courseScheduleId}/update
												(courseScheduleId=${courseSchedules.id})}"
									class="btn btn-warning">
										<i class="fa fa-pencil"></i> Update	
								</a>
						</td>
						<td class="sticky2">
								<a th:value="${courseSchedules.id}" 
								   th:id="${'delete' + (stat.index + 1)}"
								   th:href="@{/schedules/courseSchedule/{courseScheduleId}/delete
												(courseScheduleId=${courseSchedules.id})}"
								   class="btn btn-danger">
										<i class="fa fa-trash-o"></i> Delete
								</a>
					</td>
					</tr>
				</tbody>
			</table>
		</div> 
		</form> 	
		<!--Update Modal-->
		<form class="form-horizontal" 
			  id="updateView" 
			  th:object="${updateView}" 
			  th:action="@{/schedules/courseSchedule/{courseScheduleId}/update(courseScheduleId = *{id})}" 
			  th:if="${#strings.contains(#httpServletRequest.requestURI, 'update')}"
			  method="post">
			<div class="modal fade" id="updateModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true"  data-backdrop="static"  >
				<div class="modal-dialog modal-lg">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title">Course Information</h5>
							<button type="button" class="close" data-dismiss="modal" aria-label="Close">
								<span aria-hidden="true">&times;</span>
							</button>
						</div>
						<div class="modal-body">
							<div class="form-group row">
								<div class="col-lg-6">
									<input type="hidden" th:field="*{id}" id="updateCourseScheduleId">
									
								</div>
							</div>
							<div class="form-group row">
								<label class="col-lg-3 col-form-label">Course Name:</label>
								<input type="hidden" th:field="*{courseId}">
								<div class="col-lg-7">
									<input type="text" class="form-control border-0 bg-white shadow-none dark-grey" 
													   th:field="*{courseName}" 
													   readonly>
								</div>
							</div>
							<div class="form-group row">
								<label class="col-lg-3 col-form-label">Instructor:</label>
								<div class="col-lg-7">
									<select class="form-control" th:field="*{instructorId}">
										<option value=""></option>
										<option th:each="instructors : *{instructors}" 
												th:value="${instructors.id}"
												th:text="${instructors.name}"
												th:selected="${instructors.id} eq *{instructorId}"></option>
									</select>
									<div class="text-danger" id="instructorId_error"></div>
								</div>
							</div>
							<div class="form-group row">
								<label class="col-lg-3 col-form-label">Venue:</label>
								<div class="col-lg-7">
									<select class="form-control" th:field="*{venueId}" id="venueId">
										<option value=""></option>
										<option th:each="venues : *{venues}" 
												th:value="${venues.id}"
												th:text="${venues.name}"
												th:selected="${venues.id} eq *{venueId}"></option>
									</select>
									<div class="text-danger" id="venueId_error"></div>
								</div>
							</div>
							<div class="form-group row">
								<label class="col-lg-3 col-form-label">Participants:</label>
								<div class="col-lg-3">
									<input type="text" class="form-control" th:field="*{minRequired}" id="minRequired">
									<div class="text-danger" id="minRequired_error"></div>
								</div>
								<div class="col-lg-1 text-center">â€”</div>
								<div class="col-lg-3">
									<input type="text" class="form-control" th:field="*{maxAllowed}"  id="maxAllowed" >
									<div class="text-danger" id="maxAllowed_error"></div>
								</div>
							</div>	
							<div class="form-group row">
								<div class="col-lg-12" style="overflow-x:hidden;display: block; white-space: nowrap">
									<table class="table table-responsive table-borderless text-center overflow-hidden"  >
										<colgroup >
											<col style="width:45%"/>
											<col style="width:10%"/>
											<col style="width:45%"/>
										</colgroup>
										<thead>
										<tr>
											<td>
												<label class="col-lg-6 col-form-label">Start/End Date</label>
											</td>
											<td></td>
											<td>
												<label class="col-lg-6 col-form-label">Start/End Time</label>
											</td>
										</tr>
										</thead>
										<tbody id='updateCourseScheduleDetails'>
										<tr th:each = "courseScheduleDetailsAsList, stat : *{courseScheduleDetailList}">
											<td>
												<div class="form-group row">
													<div class="col-lg-6">
														<input type="date" class="form-control" 
															   th:id="${'startDate' + (stat.index + 1)}">
														<div class="text-danger" th:id="${'startDate' + (stat.index + 1) + '_error'}">
														</div>
													</div>
													<div class="col-lg-6">
														<input type="time" class="form-control" 
																th:id="${'startTime' + (stat.index + 1)}">
														<div class="text-danger" th:id="${'startTime' + (stat.index + 1) + '_error'}">
														</div>
													</div>
												</div>
											</td>
											<td class="d-print-none">
												<input type="hidden" name="startDateTime" 
												 th:id="${'startDateTime' + (stat.index + 1)}"
												 th:field="*{courseScheduleDetailList[__${stat.index}__].scheduledStartDateTime}">
												<input type="hidden" name="endDateTime" 
												 th:id="${'endDateTime' + (stat.index + 1)}"
												 th:field="*{courseScheduleDetailList[__${stat.index}__].scheduledEndDateTime}">
												<input type="hidden" th:id="${'index' + (stat.index + 1)}"
												 th:value="${stat.index}">
												<input type="hidden" name="courseScheduleDetailId" 
												 th:field="*{courseScheduleDetailList[__${stat.index}__].id}"/>
											</td>
											<td>
												<div class="form-group row">
													<div class="col-lg-6">
														<input type="date" class="form-control" 
															   th:id="${'endDate' + (stat.index + 1)}" >
														<div class="text-danger" th:id="${'endDate' + (stat.index + 1) + '_error'}"></div>
														
													</div>
													<div class="col-lg-6">
														<input type="time" class="form-control" 
																th:id="${'endTime' + (stat.index + 1)}">
														<div class="text-danger" th:id="${'endTime' + (stat.index + 1) + '_error'}"></div>
													</div>
												</div>
											</td>
										</tr>
										</tbody>
									</table>
								</div>
							</div>	
						</div>
						<div class="modal-footer">
							<input type="button" name="update" class="btn btn-success" value="Update Schedule" th:attr="onclick=|validations()|">
							<input type="button" class="btn btn-danger" data-dismiss="modal" name="backButton" value="Back">
						</div>
					</div>
				</div>
			</div>
			<!--Update Confirmation Modal-->
			<div class="modal fade" id="updateConfirmationModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
				<div class="modal-dialog modal-sm">
					<div class="modal-content">
						<div class="modal-header alert-success">
							<button type="button" class="close" data-dismiss="modal" aria-label="Close">
								<span aria-hidden="true">&times;</span>
							</button>
						</div>
						<div class="modal-body" style="text-align: center">
							Are you sure you want to update this schedule?
						</div>
						<div class="modal-footer">
							<button type="submit" id="update" 
									name="update" value="submit" 
									class="btn btn-success">Yes</button>
							<input type="button" class="btn btn-danger" data-dismiss="modal" value="No">
						</div>
					</div>
				</div>
			</div>
			<!--Update Confirmation Modal End-->
		</form>
		<!--Update Modal End-->		
		
		<!--Update Confirmation Success Modal-->
		<div class="modal fade" th:if="${updateSuccess}" id="updateSuccessModal" 
				tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
			<div class="modal-dialog modal-sm">
				<div class="modal-content">
					<div class="modal-header alert-success">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body">
						<p class="text-center" th:if="${updateSuccess}" th:text="${updateSuccess}" id="updated"></p>
					</div>
					<div class="modal-footer">
						<input type="button" name="updateSuccess" class="btn btn-success" data-dismiss="modal" value="Okay">
					</div>
				</div>
			</div>
		</div>
		<!--Update Confirmation Success Modal End-->		
		
		<!--Delete Modal-->
		<form class="form-horizontal"
			  id="deleteView"
			  th:object="${deleteView}" 
			  th:method="delete"
			  th:action="@{/schedules/courseSchedule/{courseScheduleId}/deleted(courseScheduleId = *{id})}" 
			  th:if="${#strings.contains(#httpServletRequest.requestURI, 'delete')}">
			<div class="modal fade" id="deleteModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
				<div class="modal-dialog modal-lg">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title">Course Information</h5>
							<button type="button" class="close" data-dismiss="modal" aria-label="Close">
								<span aria-hidden="true">&times;</span>
							</button>
						</div>
						<div class="modal-body">
							<div class="form-group row">
								<input type="hidden" class="form-control" th:field="*{id}" id="deleteCourseScheduleId">
								<label class="col-lg-3 col-form-label">Course ID:</label>
								<div class="col-lg-9 mb-3">
									<input type="text" class="form-control border-0 bg-white shadow-none black ml-n3" 
										th:field="*{courseId}" readonly>
								</div>
								<label class="col-lg-3 col-form-label">Course Name:</label>
								<div class="col-lg-9 mb-3">
									<input type="text" class="form-control border-0 bg-white shadow-none black ml-n3" 
										th:field="*{courseName}" readonly>
								</div>
								<label class="col-lg-3 col-form-label">Instructor:</label>
								<div class="col-lg-9 mb-3">
									<input type="text" class="form-control border-0 bg-white shadow-none black ml-n3" 
										th:field="*{instructorName}" readonly>
								</div>
								<label class="col-lg-3 col-form-label">Course Date and Time:</label>
								<div class="col-lg-9">
								<table class="ml-n1 mb-3">
									<tbody th:each = "courseScheduleDetailsAsList, stat : *{courseScheduleDetailList}"> 
										<tr>
											<th><label class="col-form-label">Start Date: </label></th>
											<th><label class="col-form-label">End Date: </label></th>
										</tr>	
										<tr>
											<td><input type="text" class="form-control border-0 bg-white shadow-none black ml-n65" 
													th:id="${'startDate' + (stat.index + 1)}" readonly></td>
											<td><input type="text" class="form-control border-0 bg-white shadow-none black ml-n65" 
													th:id="${'endDate' + (stat.index + 1)}" readonly> </td>
										</tr>
										<tr>
											<th class="pt-3"><label class="col-form-label">Start Time: </label></th>
											<th class="pt-3"><label class="col-form-label">End Time: </label></th>
										</tr>
										<tr>
											<td>
												<input type="text" class="form-control border-0 bg-white shadow-none black ml-n65" 
													th:id="${'startTime' + (stat.index + 1)}" readonly> 
											</td>
											<td><input type="text" class="form-control border-0 bg-white shadow-none black ml-n65" 
													th:id="${'endTime' + (stat.index + 1)}" readonly> </td>
										</tr>
										<tr>
											<td>
												<input type="hidden" name="startDateTime" 
													th:id="${'startDateTime' + (stat.index + 1)}"
											  		th:field=
											  			"*{courseScheduleDetailList[__${stat.index}__].scheduledStartDateTime}">
											 	<input type="hidden" name="endDateTime" 
											 		th:id="${'endDateTime' + (stat.index + 1)}"
											 		th:field=
											 			"*{courseScheduleDetailList[__${stat.index}__].scheduledEndDateTime}">
												<input type="hidden" th:id="${'index' + (stat.index + 1)}" 
														th:value="${stat.index}">
											</td>
										</tr>
										</tbody> 
									</table>
								</div>
							</div>
							<div class="form-group row">
								<label class="col-lg-3 col-form-label">Venue:</label>
								<div class="col-lg-9">
									<input type="text" class="form-control border-0 bg-white shadow-none black ml-n3" 
										th:field="*{venueName}" readonly>
								</div>
							</div>	
							<div class="form-group row">
								<label class="col-lg-3 col-form-label">Course Details:</label>
								<div class="col-lg-9">
									<input type="text" class="form-control border-0 bg-white shadow-none black ml-n3" 
										th:field="*{courseDetails}" readonly>
								</div>
							</div>
						</div>
						<div class="modal-footer">
							<input type="button" name="delete" class="btn btn-success" value="Delete Schedule">
							<input type="button" class="btn btn-danger" data-dismiss="modal" value="Back">
						</div>
					</div>
				</div>
			</div>
			<!--Delete Confirmation Modal-->
			<div class="modal fade" id="deleteConfirmationModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
				<div class="modal-dialog modal-sm">
					<div class="modal-content">
						<div class="modal-header alert-success">
							<button type="button" class="close" data-dismiss="modal" aria-label="Close">
								<span aria-hidden="true">&times;</span>
							</button>
						</div>
						<div class="modal-body">
							Are you sure you want to delete this schedule?
						</div>
						<div class="modal-footer">
							<button type="submit" id="deleteBtn" 
										name="deleteConfirmation" 
										class="btn btn-success" 
										th:value="*{id}">Yes</button>
							<input type="button" class="btn btn-danger" data-dismiss="modal" value="No">
						</div>
					</div>
				</div>
			</div>
		<!--Delete Confirmation Modal End-->
		</form>
		<!--Delete Modal End-->
		
		<!--Delete Confirmation Success Modal-->
		<div class="modal fade" th:if="${deleteSuccess}" id="deleteSuccessModal" tabindex="-1" 
					role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
			<div class="modal-dialog modal-sm">
				<div class="modal-content">
					<div class="modal-header alert-success">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body">
						<p class="text-center" th:if="${deleteSuccess}" th:text="${deleteSuccess}" id="deleted"></p>
					</div>
					<div class="modal-footer">
						<input type="submit" name="deleteSuccess" class="btn btn-success" data-dismiss="modal" value="Okay">
					</div>
				</div>
			</div>
		</div>
		<!--Delete Confirmation Success Modal End-->
		
		<!--Error Modal-->
		<div class="modal fade" id="errorModal" th:if="${error}" tabindex="-1" role="dialog" 
				aria-labelledby="exampleModalLabel" aria-hidden="true" 
				data-backdrop="static" data-keyboard="false">
			<div class="modal-dialog modal-sm text-center">
				<div class="modal-content">
					<div class="modal-header alert-danger">
						<h5 id="errorTitle" class="modal-title"></h5>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body">
						<div class="form-group row">
							<input type="hidden" th:value="${error}" id="hasError"/>
							<label class="col-lg-12 col-form-label" th:if="${error}" th:text="${error}"></label>
						</div>	
					</div>
				</div>
			</div>
		</div>
		<!--Error Modal End-->	
		
	</div>
	
	<footer th:replace="fragments/general.html :: footer"></footer>
	
	<script th:src="@{/js/lib/scheduling/scheduling-common.js}"></script>
	<script th:src="@{/js/lib/scheduling/viewUpdateDeleteSched.js}"></script>
	
	<!-- For CDATA -->
	<script th:inline="javascript">
	
		/*<![CDATA[*/
		var errorMessage = /*[[${error}]]*/ 'default';
		if(errorMessage == "To Date should be greater than or equal to From Date"){
			$('#error1Modal').modal('show');
		}
		/*<![CDATA[*/
		
		function load(){
			var fromDateTime = $("#fromDateTime").val();
			var toDateTime = $("#toDateTime").val();
			var fromNewDate = fromDateTime.toString().slice(0,16);
			var toNewDate = toDateTime.toString().slice(0,16);
			
			document.getElementById("fromDate").value = fromNewDate;
			document.getElementById("toDate").value = toNewDate;
			
			if ($("#updateView").length > 0){
				var updateCourseScheduleId = $("#updateCourseScheduleId").val();
				if(updateCourseScheduleId !== ""){
					$('#updateModal').modal('show');
				}
			    
			    var startDateTime = document.getElementById("startDateTime1").value;
			    var endDateTime = document.getElementById("endDateTime1").value;
			    
			    var rowStartDate = startDateTime.substring(0, startDateTime.indexOf("T"));
			    var rowEndDate = endDateTime.substring(0, endDateTime.indexOf("T"));
			    
			    var rowStartTime = startDateTime.substring(startDateTime.indexOf("T") + 1, startDateTime.indexOf("T") + 6);
			    var rowEndTime = endDateTime.substring(endDateTime.indexOf("T") + 1, endDateTime.indexOf("T") + 6);
			    
			    document.getElementById("startDate1").value = rowStartDate;
			    document.getElementById("endDate1").value = rowEndDate;
			    
			    document.getElementById("startTime1").value = rowStartTime;
			    document.getElementById("endTime1").value = rowEndTime;
			}
			
			if ($("#deleteView").length > 0) {
				var deleteCourseScheduleId =  $("#deleteCourseScheduleId").val();
				if(deleteCourseScheduleId !== ""){
					$('#deleteModal').modal('show');
				}
				
				var startDateTime = document.getElementById("startDateTime1").value;
			    var endDateTime = document.getElementById("endDateTime1").value;
			    
			    var rowStartDate = startDateTime.substring(0, startDateTime.indexOf("T"));
			    var rowEndDate = endDateTime.substring(0, endDateTime.indexOf("T"));
			    
			    var rowStartTime = startDateTime.substring(startDateTime.indexOf("T") + 1, startDateTime.indexOf("T") + 6);
			    var rowEndTime = endDateTime.substring(endDateTime.indexOf("T") + 1, endDateTime.indexOf("T") + 6);
			    
			    document.getElementById("startDate1").value = rowStartDate;
			    document.getElementById("endDate1").value = rowEndDate;
			    
			    document.getElementById("startTime1").value = rowStartTime;
			    document.getElementById("endTime1").value = rowEndTime;
			}
			
			if($("#updateSuccessModal").length > 0){
				/*<![CDATA[*/
				var updateSuccess = /*[[${updateSuccess}]]*/ 'default';
				
				var updated = document.getElementById("updated").innerHTML;
	
				if (updateSuccess == updated) {
					$('#updateSuccessModal').modal('show');
				}
				/*]]>*/
			}
			
			if($("#deleteSuccessModal").length > 0){
				/*<![CDATA[*/
				var deleteSuccess = /*[[${updateSuccess}]]*/ 'default';
				
				var deleted = document.getElementById("deleted").innerHTML;
	
				if (deleteSuccess == updated) {
					$('#deleteSuccessModal').modal('show');
				}
				/*]]>*/
			}
			
			//Conflict Modal Validation
			if($("#errorModal").length > 0){
				/*<![CDATA[*/
			    var errorMessage = /*[[${error}]]*/ 'default';
			    var element = document.getElementById('hasError').value;
			    
			    if(element.includes('conflict')){
			    	document.getElementById('errorTitle').innerHTML = "Conflict!";
			    }

			    console.log(successMessage);
			    console.log(element);

			    if (errorMessage == element) {

			        $('#errorModal').modal('show');
			    }
			    /*]]>*/
			}
		}
	
		
	</script>
</body>

</html>